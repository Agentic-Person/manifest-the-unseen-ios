---
task_id: TASK-2025-11-009
title: "Design System - Build Component Library Primitives"
workstream: design-system
phase: "Pre-Development - Week 2"
week: 2
status: active
priority: P0
assigned_agent: frontend-specialist
estimated_hours: 16
actual_hours:
created: 2025-11-22
updated: 2025-11-22
completed:
---

## Objective
Build foundational UI component library (Button, TextInput, Card, Loading, Text) using design tokens, ready for use across all features.

## Context
**Why this task is important**:
- Provides reusable building blocks for all screens
- Ensures UI consistency across the app
- Speeds up feature development (don't rebuild basic components)
- Enforces accessibility from Day 1

**Related documentation**:
- PRD Section 13.1: Visual Design (component examples)
- TDD Section 4.2: Design System & Styling (NativeWind)
- TDD Section 4.3: Component Architecture (atomic design)

**Prerequisite knowledge**:
- React Native core components (View, Text, TouchableOpacity, TextInput)
- NativeWind styling
- TypeScript generics and props typing
- React Native accessibility

## Acceptance Criteria
- [ ] **Button Component**: Primary, secondary, ghost, disabled variants
- [ ] **TextInput Component**: Default, error, disabled states with label support
- [ ] **Card Component**: Elevation variants (flat, raised, lifted)
- [ ] **Loading Component**: Spinner + skeleton loaders
- [ ] **Text Component**: Typography wrapper (h1-h6, body, caption)
- [ ] **Accessibility**: All components screen reader compatible
- [ ] **TypeScript**: Full type coverage with proper prop types
- [ ] **Testing**: Unit tests for each component
- [ ] **Documentation**: Storybook-style examples for each component
- [ ] **Code Quality**: ESLint passing, follows CODE_STANDARDS.md

## Implementation Steps

1. **Setup Component Directory** (1h)
   - Create `mobile/src/components/` directory
   - Create component index.ts for exports
   - Set up component testing utilities

2. **Build Button Component** (3h)
   - Create `Button.tsx`:
     - Variants: primary, secondary, ghost
     - States: default, loading, disabled
     - Sizes: sm, md, lg
     - Props: onPress, title, leftIcon, rightIcon
   - Add haptic feedback on press
   - Accessibility: accessible, accessibilityLabel, accessibilityHint
   - Write Button.test.tsx (rendering, press events, states)

3. **Build TextInput Component** (3h)
   - Create `TextInput.tsx`:
     - Props: label, placeholder, error, disabled, secureTextEntry
     - States: default, focused, error, disabled
     - Support for left/right icons
     - Character counter (optional)
   - Accessibility: label association, error announcements
   - Write TextInput.test.tsx (input, validation, states)

4. **Build Card Component** (2h)
   - Create `Card.tsx`:
     - Elevation variants: flat (0), raised (1), lifted (2)
     - Props: children, padding, onPress (optional)
     - Support for header/footer slots
   - Use theme shadows
   - Write Card.test.tsx

5. **Build Loading Component** (2h)
   - Create `Loading.tsx`:
     - Spinner variant (ActivityIndicator)
     - Skeleton variants (shimmer effect for text/image)
     - Props: variant, size, color
   - Accessibility: announce loading state
   - Write Loading.test.tsx

6. **Build Text Component** (2h)
   - Create `Text.tsx`:
     - Typography variants: h1, h2, h3, h4, h5, h6, body, bodySmall, caption
     - Props: variant, color, weight, align, numberOfLines
     - Use theme typography tokens
   - Accessibility: proper heading hierarchy
   - Write Text.test.tsx

7. **Create Component Documentation** (2h)
   - Create `components/README.md`:
     - Usage examples for each component
     - Props documentation
     - Common patterns
     - Do's and don'ts
   - Add inline JSDoc comments for autocomplete

8. **Integration Testing** (1h)
   - Test components together (Button in Card, etc.)
   - Test with design tokens
   - Test accessibility with VoiceOver/TalkBack
   - Fix any issues found

## Dependencies
**Blocks**:
- All future UI features (every screen will use these components)

**Blocked By**:
- TASK-2025-11-008: Design tokens must exist first

**Related Tasks**:
- TASK-2025-11-008: Consumes design tokens

## Resources
**Documentation**:
- [React Native Components](https://reactnative.dev/docs/components-and-apis)
- [React Native Accessibility](https://reactnative.dev/docs/accessibility)
- [NativeWind Components](https://www.nativewind.dev/core-concepts/components)
- [Atomic Design Methodology](https://bradfrost.com/blog/post/atomic-web-design/)

**Internal resources**:
- PRD Section 13.1: Visual Design
- TDD Section 4.3: Component Architecture
- `docs/CODE_STANDARDS.md`: Component conventions
- `mobile/src/theme/`: Design tokens created in TASK-008

**Code examples**:
- Button pattern: TouchableOpacity + haptics + accessibility
- TextInput pattern: Native TextInput + controlled component
- Card pattern: View + shadows + optional TouchableOpacity

## Agent Instructions
**Recommended agent**: Frontend Specialist (with Canva MCP + Supabase MCP)

**Specific guidance for this task**:
- Use Canva MCP to visualize component variants before coding
- Follow atomic design principles (atoms first)
- Make components highly reusable (use composition over props)
- Add generous accessibility support (labels, hints, roles)
- Test on iOS simulator as you build

**Technical constraints**:
- Must use design tokens from TASK-008 (no hardcoded colors/sizes)
- Must support TypeScript strict mode
- Must pass ESLint with zero warnings
- Must be accessible (VoiceOver compatible)
- Must work on iOS 15+

## Review Checklist
Before marking complete, ensure:

- [ ] **Code Review**: Self-reviewed for reusability and patterns
- [ ] **Accessibility Review**: Tested with VoiceOver on iOS
- [ ] **Visual Review**: All variants render correctly
- [ ] **Testing**: All unit tests passing (5 components Ã— 3 tests = 15+ tests)
- [ ] **TypeScript**: No type errors, proper prop types
- [ ] **Documentation**: README with examples for all components
- [ ] **Manual Testing**: Tested in iOS simulator
- [ ] **PRD Alignment**: Components match design requirements

## Progress Notes
**2025-11-22 - Orchestrator**:
- Task created for Week 2 Day 2-3
- Assigned to Frontend Specialist
- Depends on TASK-008 completion

## Final Notes
(Add any learnings, gotchas, or context for future developers)
